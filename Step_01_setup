# You'll be copying and pasting this script into the command line. So...
# Start an interactive session and wait to be logged in to a computer node

interactive -c 1 -p quanah

# Move to your working directory for the project.
cd /lustre/scratch/arrice/Ch1_Leiothlypis

# Make directories for the analyses
mkdir 00_fastq
mkdir 01_cleaned
mkdir 01_bam_files
mkdir 02_vcf
mkdir 03_vcf
mkdir 04_filtered_vcf

# Now transfer your raw data files for this project to the directory 00_fastq with scp OR just drag and drop w/ filezilla. 
# Might take a few minutes bc these are very big files. 

#### This'll include:
# 1) all the original raw Leiothlypis reads save for M2, M10, and M16 (because these ones failed/ were contaminated)
# 2) Jack's raw reads for Geothlypis poliocephala (5 samples, 1 forward read and 1 reverse read for each)
# 3) ruficapilla and peregrina redos (N16-N21). Each sample has 4 files, so list them in a redos.txt file and concat them w/ the following:
while read -r redos; do
	cat ${redos}_*R1_* >> ./${redos}_R1.fastq.gz
	cat ${redos}_*R2_* >> ./${redos}_R2.fastq.gz
done < redos.txt

# Next, make a "rename" folder within 00_fastq, and add a rename_samples.txt file to it. This is to make the raw read names more informative. 

# Create a rename_samples.txt with the old names in the left column and the new names in the right. Then run the following command:

while read -r name1 name2; do mv $name1 $name2
done < rename_samples.txt

# If it worked, move the files, delete the folder, and delete the original ones. 
mv * ..
cd ..
rm -r rename
rm *L004*

# Move back to your main directory. 
# make a basenames.txt file and put it there. 
